# useCallback

## 레퍼런스

### useCallback(fn, dependencies)

## 사용법

### 컴포넌트의 리렌더링 건너뛰기

1. > 자바스크립트에서 function () {} 나 () => {}은 항상 다른 함수를 생성합니다.

   - 생각해보니 그렇네요…? 이걸 생각 안하고 useMemo를 썼다면 memoization이 소용 없는 경우가 굉장히 많을 거 같습니다…😅

2. > useCallback은 성능 최적화를 위한 용도로만 사용해야 합니다. 만약 코드가 useCallback 없이 작동하지 않는다면 먼저 근본적인 문제를 찾아 해결해야 합니다. 그다음에 useCallback을 다시 추가할 수 있습니다.

   - useCallback이나 useMemo같은 성능 최적화 hook은 만능이 아니다. 버그가 있다면 근본 문제를 해결하는 것이 우선이다.. 를 끊임없이 강조하는군요ㅎㅎ

3. > useMemo 는 호출한 함수의 결과값을 캐싱합니다.
   > useCallback은 함수 자체를 캐싱합니다.

   - 함께 비교해서 보니까 두 훅 사이의 차이점이 명확해서 좋습니다.

4. > 이미 useMemo에 익숙하다면 useCallback을 다음과 같이 생각하는 것이 도움이 될 수 있습니다.

   - 적당히 함수버전 useMemo로 생각하고 있었는데 이런 식으로 예시를 드니까 재밌네욥 😀
   - Learn에서 나왔었는데 useRef가 useState를 기반으로 만든 훅이라는 점과 유사한 것 같아요!

5. > useCallback으로 함수를 캐싱하는 것은 몇 가지 경우에만 가치 있습니다.

   - 리마인드 용으로 남겼습니다.

6. > 장기적으로 이러한 문제를 해결하기 위해 우리는 memoization을 자동화하는 기술을 연구하고 있습니다.

   - 오호.. 흥미롭네요. 링크되어있는 영상은 오늘 따로 챙겨봐야겠습니당
   - [질문] 여러분 컨퍼런스 영상 같은 거 나중에 따로 챙겨보시나요? 시간되는 사람끼리 모여서 영상 하나 정해서 2,30분짜리 보고 감상 얘기해보는 것도 재미있을 것 같아서요 ㅎㅎ
   - 오오 저는 리액트 다큐 봐보고싶은데 길어서 손을 못대고 있어요!!
   - https://www.youtube.com/watch?v=8pDqJVdNa44

### Memoized 콜백에서 상태 업데이트하기

### Effect가 너무 자주 실행되는 것을 방지하기

### 커스텀 Hook 최적화하기

1. > 커스텀 Hook을 작성하는 경우, 반환하는 모든 함수를 useCallback으로 감싸는 것이 좋습니다.

   - 커스텀 훅을 A컴포넌트 내에서 사용할때, A컴포넌트가 다시 렌더링 되더라도 같은 함수가 매번 정의되지 않도록 함이겠죠,,?
   - 와 커스텀 훅을 여러 차례 만들면서도 딱히 생각해보지 못했던 지점이네요… 출근하면 훅 코드들을 뜯어봐야겠어요…ㅎㅎㅎㅎ 😅
   - 멍식님 말씀이 맞는 것 같아요. 근데 저도 한 번도 useCallback으로 감쌀 생각을 해보지 못했던 ㅎㅎ
   - 이거 중요하다고 생각합니다. 특히 제품 전역에서 사용되는 공통 hook 만들때에는 필수적인 것 같아요.
   - 일단 useCallback으로 감싸는 게 안전하다.

## 문제 해결

### 컴포넌트가 렌더링 될 때마다 useCallback이 다른 함수를 반환합니다.

### 반복문에서 각 항목마다 useCallback을 호출하고 싶지만, 이것은 허용되지 않습니다.
